<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:f="http://java.sun.com/jsf/core" 
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <p:layout styleClass="tabHeight">



        <p:layoutUnit position="center">

            <h:form id="book_add_table">
                <center> 
                    <p:dataTable var="book" value="#{bookGalleryController.bookData}" paginator="true" paginatorPosition="top" rows="10">              

                        <p:column headerText="BookGallery ID" sortBy="#{book.bookGalleryID}">
                            <h:outputLabel value="#{book.bookGalleryID}"/>
                        </p:column>

                        <p:column headerText="AC Year" sortBy="#{book.acYear}">
                            <h:outputLabel value="#{book.acYear}"/>
                        </p:column>

                        <p:column headerText="Class ID" sortBy="#{book.className}">
                            <h:outputLabel value="#{book.className}"/>
                        </p:column>

                        <p:column headerText="Subject ID">
                            <h:outputLabel value="#{book.subjectName}"/>
                        </p:column>

                        <p:column headerText="Book Name">
                            <h:outputLabel value="#{book.bookName}"/>
                        </p:column>

                        <p:column headerText="Book Code">
                            <h:outputLabel value="#{book.code}"/>
                        </p:column>

                        <p:column headerText="Topic">
                            <h:outputLabel value="#{book.topic}"/>
                        </p:column>

                        <p:column headerText="Author">
                            <h:outputLabel value="#{book.author}"/>
                        </p:column>

                        <p:column headerText="Publication">
                            <h:outputLabel value="#{book.publication}"/>
                        </p:column>

                        <p:column headerText="Edition">
                            <h:outputLabel value="#{book.edition}"/>
                        </p:column>

                        <p:column headerText="Price">
                            <h:outputLabel value="#{book.price}"/>
                        </p:column>

                        <p:column headerText="Note">
                            <h:outputLabel value="#{book.note}"/>
                        </p:column> 

                        <p:column headerText="Edit">
                            <p:commandButton   oncomplete="update_bookGallery_dialog.show()"  update=":book_up" icon="ui-icon-pencil" title="Update">
                                <f:setPropertyActionListener value="#{book}" target="#{bookGalleryController.bookGallery}"/>   
                            </p:commandButton>   
                        </p:column>

                    </p:dataTable>
                </center>
            </h:form>

            <p:dialog widgetVar="update_bookGallery_dialog"  hideEffect="drop" showEffect="slide">

                <p:growl id="upGrl5" showDetail="true"/>

                <h:form id="book_up" enctype="multipart/form-data">

                    <center>
                        <p:panelGrid styleClass="panelGrid">

                            <p:row>
                                <p:column colspan="2" styleClass="Header" style="text-align: center"> Update Book </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label">
                                    <h:outputLabel value="Academic Year"/>
                                </p:column><p:column>
                                    <p:selectOneMenu value="#{bookGalleryController.bookGallery.acYear}" styleClass="inputCombo" style="width: 165px;">
                                        <f:selectItem itemLabel="Select Year" itemValue=""/>
                                        <f:selectItems value="#{bookGalleryController.academicYearList}"/>
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label">
                                    <h:outputLabel value="Class"/>
                                </p:column><p:column>
                                    <p:selectOneMenu  value="#{bookGalleryController.bookGallery.className}" styleClass="inputCombo" style="width: 165px;">
                                        <f:selectItem itemLabel="Select Class" itemValue=""/>
                                        <f:selectItems value="#{bookGalleryController.classList}"/>
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label">
                                    <h:outputLabel value="Department"/>
                                </p:column><p:column>
                                    <p:selectOneMenu value="#{bookGalleryController.bookGallery.departmentName}" styleClass="inputCombo" style="width: 165px;">
                                        <f:selectItem itemLabel="Select Department" itemValue=""/>
                                        <f:selectItems value="#{bookGalleryController.departmentList}"/>
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label">
                                    <h:outputLabel value="Subject"/>
                                </p:column><p:column>
                                    <p:selectOneMenu id="roomName" value="#{bookGalleryController.bookGallery.subjectName}" styleClass="inputCombo" style="width: 165px;" >
                                        <f:selectItem itemLabel="Select Subject" itemValue=""/>
                                        <f:selectItems value="#{bookGalleryController.sbjectList}"/>
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Code"/>
                                </p:column>
                                <p:column>
                                    <p:inputText value="#{bookGalleryController.bookGallery.code}" styleClass="inputText" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Book Name"/>
                                    <h:outputLabel value="*" styleClass="red"/>
                                </p:column>
                                <p:column>
                                    <p:inputText value="#{bookGalleryController.bookGallery.bookName}" styleClass="inputText"/>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Topic"/>
                                </p:column>
                                <p:column>
                                    <p:inputText value="#{bookGalleryController.bookGallery.topic}" styleClass="inputText"/>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Author"/>
                                </p:column>
                                <p:column>
                                    <p:inputTextarea value="#{bookGalleryController.bookGallery.author}" styleClass="inputTextarea" style="height: 40px;"/>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Publication"/>
                                </p:column>
                                <p:column>
                                    <p:inputTextarea value="#{bookGalleryController.bookGallery.publication}" styleClass="inputTextarea" style="height: 40px;"/>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Edition"/>
                                </p:column>
                                <p:column>
                                    <p:inputTextarea value="#{bookGalleryController.bookGallery.edition}" styleClass="inputTextarea" style="height: 40px;"/>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Price"/>
                                </p:column>
                                <p:column>
                                    <p:inputText value="#{bookGalleryController.bookGallery.price}" styleClass="inputText"/>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label" >
                                    <h:outputLabel value="Note"/>
                                </p:column>
                                <p:column>
                                    <p:inputText value="#{bookGalleryController.bookGallery.note}" styleClass="inputText"/>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column styleClass="label">                             
                                    <p:graphicImage value="/images/BookImage/#{bookGalleryController.bookGallery.imagePath}" width="50px" height="60px"/>
                                </p:column>
                                <p:column>
                                    <p:fileUpload value="#{bookGalleryController.photoFile}" mode="simple" />   
                                </p:column>   
                            </p:row>

                        </p:panelGrid>
                        <p:commandButton value="Update" actionListener="#{bookGalleryController.updateBookGallery()}" ajax="false" update=":book_add_table" icon="ui-icon-check" style="margin-top: 8px;" oncomplete="update_bookGallery_dialog.hide()"/>
                    </center>
                </h:form>     

            </p:dialog>

        </p:layoutUnit>


    </p:layout>

</ui:composition>

